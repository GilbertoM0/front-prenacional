<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PRENACIONAL</title>
    <link rel="icon" href="./assets/images/LogoPre.ico">
    <!-- ====== CSS Files ====== -->
    <link rel="stylesheet" href="./assets/css/home.css">
</head>

<body>
    <header>
        <ul class="navigation">
            <li><a href="index.html"><ion-icon name="home-sharp"></ion-icon>INICIO</a></li>
            
            <li>
                <a href="#">DISCIPLINAS<ion-icon name="caret-down"></ion-icon></a>
                <ul class="subdiscipline"></ul>
            </li>

            <li><img src="./assets/images/Logo Prenacional.webp" alt="logo" class="preLogo"></li>

            <li class="login"><a href="./login.html">LOGIN<ion-icon name="person-circle-sharp"></ion-icon></a></li>
        </ul>

        <div class="content">
            <img src="./assets/images/Logo Prenacional.webp" alt="logo">
        </div>
        <!-- =================================================== -->
        <!-- ================= Redes sociales ============== -->
        <!-- =================================================== -->
         
<div class="card">
  <div class="background">
  </div>
  <div class="logo">
   Redes sociales ITJ
  </div>

  <a href="https://www.facebook.com/ITJiquilpanMich"><div class="box box1"><span class="icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512" class="svg">
  <path d="M279.14 288l14.22-92.66h-88.91V132.29c0-25.35 
    12.42-50.06 52.24-50.06H293V6.26S259.5 0 225.36 
    0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.2V288z"/>
</svg></span></div></a>

  <a href="https://www.instagram.com/tecnmjiquilpan/"><div class="box box2"> <span class="icon"><svg viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg" class="svg">
        <path d="M 9.9980469 3 C 6.1390469 3 3 6.1419531 3 10.001953 L 3 20.001953 C 3 23.860953 6.1419531 27 10.001953 27 L 20.001953 27 C 23.860953 27 27 23.858047 27 19.998047 L 27 9.9980469 C 27 6.1390469 23.858047 3 19.998047 3 L 9.9980469 3 z M 22 7 C 22.552 7 23 7.448 23 8 C 23 8.552 22.552 9 22 9 C 21.448 9 21 8.552 21 8 C 21 7.448 21.448 7 22 7 z M 15 9 C 18.309 9 21 11.691 21 15 C 21 18.309 18.309 21 15 21 C 11.691 21 9 18.309 9 15 C 9 11.691 11.691 9 15 9 z M 15 11 A 4 4 0 0 0 11 15 A 4 4 0 0 0 15 19 A 4 4 0 0 0 19 15 A 4 4 0 0 0 15 11 z"></path>
      </svg>
</span></div></a>

  <a href="https://www.youtube.com/channel/UC9kxJwry9WvAAq6fwaoFOjg"><div class="box box3"><span class="icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" class="svg">
  <path d="M549.7 124.1c-6.3-23.7-24.9-42.3-48.6-48.6C458.5    64 288 64 288 64S117.5 64 74.9 75.5c-23.7 6.3-42.3    24.9-48.6 48.6C15.9 166.6 16 256 16 256s-.1 89.4   10.3 131.9c6.3 23.7 24.9 42.3 48.6 48.6C117.5 448    288 448 288 448s170.5 0 213.1-11.5c23.7-6.3    42.3-24.9 48.6-48.6C560.1 345.4 560 256 560    256s.1-89.4-10.3-131.9zM232 334V178l142   78-142 78z"/>
</svg></span></div></a>

  <div class="box box4"></div>
</div>
        
        
        
        
        
        <!-- =================================================== -->
                                    <!-- FECHA  -->
        <div class="FECHA">
                <h1 class="h1ITJ">
                    INSTITUTO TECNOLÓGICO DE JIQUILPAN 
                    <span id="fecha" class="fecha">DEL 19 - 27 Mayo</span>
                </h1>
        </div>
        
      
    </header>
<section>
    <div class="calendar">

    </div>
</section>



    <!--======== FOOTER ========= -->
       <div class="footer">
        <div class="escudo">
            <img src="./assets/images/Tec.webp" alt="Tec" class="tec">

            <a href="https://www.facebook.com/ITJiquilpanMich" class="socialLink">
                <img src="./assets/images/Facebook.webp" alt="Facebook" class="facebook">
                <span class="socialText">FACEBOOK</span>
            </a>
            
            <a href="https://www.youtube.com/channel/UC9kxJwry9WvAAq6fwaoFOjg" class="socialLink">
                <img src="./assets/images/Youtube.webp" alt="Youtube" class="youtube">
                <span class="socialText">YOUTUBE</span>
            </a>

            <a href="https://twitter.com/TecNMJiquilpan" class="socialLink">
                <img src="./assets/images/Twitter.webp" alt="Twitter" class="twitter">
                <span class="socialText">TWITTER</span>
            </a>

            <a href="https://www.instagram.com/tecnmjiquilpan/" class="socialLink">
                <img src="./assets/images/Instagram.webp" alt="Instagram" class="insta">
                <span class="socialText">INSTAGRAM</span>
            </a>
        </div>

        <div class="emergency">
            <p class="emergPhone">TELÉFONOS DE EMERGENCIA</p>

            <div class="emerPhones">                                
                <div class="phones">
                    <img src="/frontend/assets/images/Telefono.webp" alt="Phone">

                    <div class="phoneText">
                        <p class="phonePeople">BOMBEROS Y PROTECCIÓN CIVIL</p>
                        <a href="tel:3535334108" class="phoneNumber">353 533 4108</a>
                    </div>                    
                </div>

                <div class="phones">
                    <img src="/frontend/assets/images/Telefono.webp" alt="Phone">

                    <div class="phoneText">
                        <p class="phonePeople">POLICÍA MUNICIPAL</p>
                        <a href="tel:3535330824" class="phoneNumber">353 533 0824</a>
                    </div>
                </div>

                <div class="phones">
                    <img src="/frontend/assets/images/Telefono.webp" alt="Phone">

                    <div class="phoneText">
                        <p class="phonePeople">POLICÍA FEDERAL</p>
                        <a href="tel:3535333434" class="phoneNumber">353 533 3434</a>
                    </div>                    
                </div>
            </div>
        </div>

        <div class="tecnm">
            <p class="emergPhone">TECNM</p>

            <div class="emerPhones">
                <div class="phones">
                    <img src="/frontend/assets/images/Ubicacion.webp" alt="Phone">

                    <div class="phoneText">
                        <p class="phonePeople">DIRECCIÓN</p>
                        <p class="phoneNumber">Av. Universidad 1200, Col. Xoco, Alcaldía Benito Juárez, Ciudad de México, C.P. 03330</p>
                    </div>                    
                </div>

                <div class="phones">
                    <img src="/frontend/assets/images/Telefono.webp" alt="Phone">

                    <div class="phoneText">
                        <p class="phonePeople">TELÉFONO</p>
                        <a href="tel:5536002500" class="phoneNumber">Conmutador: (55) 3600 2500</a>
                    </div>                    
                </div>

                <div class="phones">
                    <img src="/frontend/assets/images/Correo.webp" alt="Phone">

                    <div class="phoneText">
                        <p class="phonePeople">CORREO</p>
                        <a href="mailto:contacto@tecnm.mx" class="phoneNumber">contacto@tecnm.mx</a>
                    </div>                    
                </div>
            </div>
        </div>

        <div class="itj">
            <p class="emergPhone">ITJ</p>

            <div class="emerPhones">
                <div class="phones">
                    <img src="/frontend/assets/images/Ubicacion.webp" alt="Phone">

                    <div class="phoneText">
                        <p class="phonePeople">DIRECCIÓN</p>
                        <p class="phoneNumber">Avenida Carretera Nacional S/N, Km. 202, Colonia La Loma, C.P. 59510 Jiquilpan de Juárez, Michoacán, México</p>
                    </div>                    
                </div>

                <div class="phones">
                    <img src="/frontend/assets/images/Telefono.webp" alt="Phone">

                    <div class="phoneText">
                        <p class="phonePeople">TELÉFONO</p>
                        <a href="tel:3535331126" class="phoneNumber">(353) 533 1126</a>
                    </div>                    
                </div>

                <div class="phones">
                    <img src="/frontend/assets/images/Correo.webp" alt="Phone">

                    <div class="phoneText">
                        <p class="phonePeople">CORREO</p>
                        <a href="mailto:difusionitj@gmail.com" class="phoneNumber">difusionitj@gmail.com</a>
                    </div>                    
                </div>
            </div>
        </div>
     </div>

    <!-- ====== Iconos ====== -->
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <!-- ====== Funcionalidad ====== -->
    <script type="module" src="./assets/js/home.js"></script>

    <script>
document.addEventListener("DOMContentLoaded", async () => {
  const calendarDiv = document.querySelector(".calendar");

  try {
    // Cargamos los datos necesarios
    const [rolRes, equiposRes, disciplinasRes] = await Promise.all([
      fetch("https://back-prenacional-production.up.railway.app/api/rolDeJuegos"),
      fetch("https://back-prenacional-production.up.railway.app/api/equipo"),
      fetch("https://back-prenacional-production.up.railway.app/api/disciplinas"),
    ]);

    const rolData = await rolRes.json();
    const equipos = await equiposRes.json();
    const disciplinas = await disciplinasRes.json();

    // Creamos diccionarios para acceder rápido por ID
    const equiposMap = Object.fromEntries(equipos.map(e => [e.id_equipo, e.nombre]));
    const disciplinasMap = Object.fromEntries(disciplinas.map(d => [d.id_diciplinas, d.nombre]));

    renderCalendar(rolData, equiposMap, disciplinasMap);
  } catch (error) {
    console.error("Error al cargar datos:", error);
    calendarDiv.innerHTML = "<p>Error al cargar el rol de juegos.</p>";
  }

  function renderCalendar(games, equiposMap, disciplinasMap) {
  if (!Array.isArray(games)) {
    calendarDiv.innerHTML = "<p>Formato de datos incorrecto.</p>";
    return;
  }

  if (games.length === 0) {
    calendarDiv.innerHTML = "<p>No hay partidos programados.</p>";
    return;
  }

  const table = document.createElement("table");
  table.innerHTML = `
    <thead>
      <tr>
        <th>Fecha</th>
        <th>Hora</th>
        <th>Disciplina</th>
        <th>Equipo Local</th>
        <th>Equipo Visitante</th>
      </tr>
    </thead>
    <tbody>
      ${games.map(game => `
        <tr>
          <td>${game.fecha}</td>
          <td>${game.hora}</td>
          <td>${disciplinasMap[game.disciplinaid] || "Desconocida"}</td>
          <td>${equiposMap[game.equipoLocalid] || "Desconocido"}</td>
          <td>${equiposMap[game.equipoVisitid] || "Desconocido"}</td>
        </tr>
      `).join("")}
    </tbody>
  `;
  calendarDiv.appendChild(table);
  }
});
</script>

</body>